{
  "name": "efp-indexer",
  "description": "Ethereum Follow Protocol Indexer",
  "repository": "github:ethereumfollowprotocol/indexer",
  "type": "module",
  "scripts": {
    "clean": "/bin/bash ./scripts/clean.sh",
    "dev": "bun --watch --hot ./src/index.ts",
    "start": "bun --watch --hot dist/index.js",
    "build": "bun build ./src/index.ts --minify --target='bun' --format='esm' --outfile='./dist/index.js'",
    "database": "docker compose --file='compose.yml' --project-name='efp' up --build --force-recreate --remove-orphans database",
    "database:status": "dbmate status",
    "database:drop": "dbmate drop",
    "database:up": "dbmate up && bun database:generate-types",
    "database:reset": "bun database:drop && bun database:up",
    "database:generate-types": "kysely-codegen --dialect='postgres' --type-only-imports --log-level='error' --out-file='./src/database/generated/index.ts' && bun format && (cp ./src/database/generated/index.ts ../api/src/types/generated/index.ts || true)",
    "db": "bun database",
    "down": "docker compose --file='compose.yml' --project-name='efp' down --remove-orphans",
    "drop": "bun down && docker volume rm --force efp_database",
    "indexer": "docker compose --file='compose.yml' --project-name='efp' up --build --force-recreate --remove-orphans indexer",
    "ping": "docker compose --file='compose.yml' --project-name='efp' up --build --force-recreate --remove-orphans ping",
    "lint": "biome check --apply .",
    "format": "biome format . --write",
    "reup": "bun drop && bun up",
    "typecheck": "tsc --project tsconfig.json --noEmit",
    "up": "docker compose --file='compose.yml' --project-name='efp' up --build --force-recreate --remove-orphans --always-recreate-deps database indexer",
    "upd": "docker compose --file='compose.yml' --project-name='efp' up --build --detach --force-recreate --remove-orphans --always-recreate-deps database indexer",
    "update-dependencies": "bun ./scripts/update-dependencies.ts"
  },
  "dependencies": {
    "consola": "^3.2.3",
    "exit-hook": "^4.0.0",
    "kysely": "^0.26.3",
    "kysely-postgres-js": "^2.0.0",
    "postgres": "^3.4.3",
    "viem": "2.0.0-beta.15"
  },
  "devDependencies": {
    "@biomejs/biome": "^1.4.1",
    "@types/node": "^20.10.4",
    "bun": "^1.0.17",
    "pg": "^8.11.3",
    "dbmate": "^2.9.0",
    "bun-types": "^1.0.17",
    "typescript": "^5.3.3",
    "kysely-codegen": "^0.11.0",
    "@total-typescript/ts-reset": "^0.5.1"
  },
  "sideEffects": false
}
